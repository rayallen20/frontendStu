# 06-清除浮动

## 1. 现象

- 场景: 浮动元素会**脱标**,如果**父级没有高度**,则子级无法撑开父级高度(可能导致页面布局错乱)
  - 脱标: 浮动元素不占据位置,不参与布局(这里的位置是指标准流中的位置) 
  - 这种父级没有高度的情况是很常见的,很多地方都是下拉滚动时加载,这时候父级是没有高度的(因为你也不知道用户会下拉多少次)
- 解决方法: 清除浮动(清除浮动带来的影响)
  - 之所以浮动现在不再常用的原因也是因为清除浮动的问题,既要用浮动来布局,然后又要用清除浮动来解决页面布局错乱的问题,这样就会导致代码量增加,维护成本增加
  - 所以,现在基本不使用浮动了

## 2. 清除浮动的方法

### 2.1 方法1: 额外标签法

- 在**父元素内容的最后**添加一个**块级元素**,然后给这个新添加的块级元素设置CSS属性`clear: both`
  - `clear: both`的含义是清除所有浮动(左浮动和有浮动)
- 这种方法基本不用,因为会增加额外的(不必要的)标签

### 2.2 方法2: 单伪元素法

这种方法其实是额外标签法的一个变种,只不过是用伪元素来代替额外的标签

```css
父元素::after {
  content: '';
  /* 将伪元素设置为块元素 */
  display: block;
  /* 清除浮动 */
  clear: both;
}
```

### 2.3 方法3: 双伪元素法(推荐)

```css
父元素::before,
父元素::after {
  content: "";
  display: table;
}

父元素::after {
  clear: both;
}
```

- `display: table`: 表示将该元素的行为模拟为表格(table)的布局模型.它让非表格元素表现得像表格一样,能够包含表格行、单元格等结构

通常在开发中的用法是先定义好双伪元素的样式如下(`clearfix`是清除浮动的常规类名,大家都这么叫):

```css
.clearfix::before,
.clearfix::after {
  content: "";
  display: table;
}

.clearfix::after {
  clear: both;
}
```

然后给所有需要清除浮动的盒子加上这个类名即可

### 2.4 方法4: `overflow`法

- 在父级元素上设置`overflow: hidden`即可