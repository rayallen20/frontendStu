<!DOCTYPE html>
<html>

<head>
    <title>4-ä½œä¸š-12306è®¢å•è¯¦æƒ…</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <div id="app" style="display: block;"></div>

    <template id="my-app">
        <h1>è®¢å•è¯¦æƒ…</h1>
        <div  class="container" >
            <!-- è½¦æ¬¡ä¿¡æ¯ -->
            <div class="ticket-info">
                <div class="start">
                    <div class="time">{{orderInfo.startTime}}</div>
                    <div class="origin">{{orderInfo.origin}}<span>&gt;</span></div>
                </div>
                <div class="train-info">
                    <div class="train-number">{{orderInfo.trainNumber}}<span>&gt;</span></div>
                    <div class="station-type" v-if="orderInfo.stationType === 2">ç»åœç«™</div>
                    <div class="station-type" v-else-if="orderInfo.stationType === 1">å§‹å‘ç«™</div>
                    <div class="train-duration">å†æ—¶{{orderInfo.duration}}</div>
                </div>
                <div class="end">
                    <div class="time">{{orderInfo.endTime}}</div>
                    <div class="destination">{{orderInfo.destination}}<span>&gt;</span></div>
                </div>
            </div>
            <!-- å‘è½¦æ—¶é—´ -->
            <div class="train-date">
                <span class="start-date">å‘è½¦æ—¶é—´ï¼š{{orderInfo.trainDate}}</span>
                <span class="expiration-date">è½¦ç¥¨å½“æ—¥å½“æ¬¡æœ‰æ•ˆ</span>
            </div>
            <!-- æ”¹ç­¾é€€ç¥¨ -->
            <div class="btn-wrap">
                <button :disabled="!orderInfo.rebook" @click="rebook()">æ”¹ç­¾</button>
                <span>|</span>
                <button :disabled="!orderInfo.cancellation" @click="cancel()">é€€ç¥¨</button>
            </div>
            <!-- ä¹˜è½¦äººåˆ—è¡¨ -->
            <div class="passenger-list">
                <div class="passenger-info" v-for="passenger in orderInfo.passengers" :key="passenger.pid">
                    <h3 class="passenger">
                        <div class="passenger-name">
                            {{passenger.pname}}
                            <span class="passenger-type" v-if="passenger.isAdult">æˆäººç¥¨</span>
                            <span class="passenger-type" v-else>å„¿ç«¥ç¥¨</span>
                        </div>

                        <div class="seat-info">
                            <span class="seat-type" v-if="passenger.seatType === 1">é çª—</span>
                            <span class="seat-type" v-else-if="passenger.seatType === 3">è¿‡é“</span>
                            {{passenger.seat}}
                        </div>
                    </h3>

                    <div class="seat-price">
                        <div class="passenger-passport">
                            ä¸­å›½å±…æ°‘èº«ä»½è¯
                        </div>
                        <div class="price">ï¿¥{{passenger.price}}</div>
                    </div>
                    <div class="status">
                        <div class="ticket-status">
                            å·²å‡ºç«™
                        </div>
                        <div class="illustrate">é€€æ”¹è¯´æ˜</div>
                    </div>

                </div>
            </div>
        </div>
        <div class="tip">
            ğŸ”” è®¢å•ä¿¡æ¯æŸ¥è¯¢æœ‰æ•ˆæœŸé™ä¸º30æ—¥
        </div>
    </template>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        // TODO:é˜…è¯»ä»£ç ï¼Œæ ¹æ®æä¾›çš„è®¢å•ä¿¡æ¯æ•°æ®ï¼Œé€šè¿‡å­¦ä¹ çš„VueæŒ‡ä»¤å°†é¡µé¢æ¸²æŸ“æˆç›®æ ‡æ•ˆæœ
        // DATA:æ•°æ®å­—æ®µè¯´æ˜
        /**
         *  startTimeï¼š å‘è½¦æ—¶é—´
         *  endTimeï¼š åˆ°ç«™æ—¶é—´
         *  originï¼š å‘è½¦ç«™
         *  destinationï¼šç›®çš„åœ°
         *  trainNumberï¼šè½¦æ¬¡
         *  trainDateï¼šå‘è½¦æ—¥æœŸ
         *  stationTypeï¼šè½¦ç«™ç±»å‹(1ä¸ºå§‹å‘ç«™,2ä¸ºç»åœç«™)
         *  durationï¼šå†æ—¶
         *  rebookï¼šèƒ½å¦æ”¹ç­¾
         *  cancellation:èƒ½å¦é€€ç¥¨
         *  passengers:ä¹˜è½¦äººåˆ—è¡¨
         *  pidï¼šä¹˜è½¦äººID
         *  pnameï¼šä¹˜è½¦äººå§“å
         *  isAdultï¼šæ˜¯å¦æˆå¹´
         *  seatï¼šåº§ä½
         *  priceï¼šç¥¨ä»·
         *  seatType:ä½œä¸ºç±»å‹(1æ˜¯é çª—ï¼Œ2æ˜¯ä¸­é—´ï¼Œ3æ˜¯è¿‡é“)
        */
        const args = {
            template: '#my-app',
            data() {
                return {
                    orderInfo: {
                        startTime: '14:12',
                        endTime: '17:41',
                        origin: 'è¥¿å®‰åŒ—',
                        destination: 'æˆéƒ½ä¸œ',
                        trainNumber: 'D1937',
                        trainDate: '2023.09.30 æ˜ŸæœŸå…­',
                        stationType: 2,
                        duration: '3æ—¶30åˆ†',
                        rebook: false,
                        cancellation: true,
                        passengers: [
                            {
                                pid: '0001',
                                pname: 'ç‹å¤§é”¤',
                                isAdult: true,
                                seat: 'äºŒç­‰åº§ 04è½¦ 11Aå·',
                                price: 261,
                                seatType: 1,
                            },
                            {
                                pid: '0002',
                                pname: 'æäºŒç‹—',
                                isAdult: false,
                                seat: 'äºŒç­‰åº§ 04è½¦ 11Bå·',
                                price: 262,
                                seatType: 2,
                            },
                            {
                                pid: '0003',
                                pname: 'å¼ ä¸‰ç–¯',
                                isAdult: true,
                                seat: 'äºŒç­‰åº§ 04è½¦ 13Cå·',
                                price: 264,
                                seatType: 3,
                            }
                        ]
                    }
                }
            },
            methods: {
                rebook() {
                    alert('æ”¹ç­¾æˆåŠŸ')
                },
                cancel() {
                    alert('é€€ç¥¨æˆåŠŸ')
                }
            }
        }

        const app = Vue.createApp(args)
        app.mount('#app')
    </script>
</body>

</html>