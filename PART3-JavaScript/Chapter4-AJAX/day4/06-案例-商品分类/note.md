# 06-案例-商品分类

## 1. 需求

- 获取所有一级分类数据
- 同时获取所有一级分类对应的二级分类数据

## 2. 实现

- 由于请求一级分类和请求二级分类是有联动关系,且二级分类需要用到一级分类的id,所以我们需要保证请求的顺序
  - 用一个顶层的函数控制这个顺序,这个函数需要用`async`修饰,用`await`等待一级分类的请求结果
  - 在这个顶层函数中,获取所有的一级分类id,然后用`Promise.all`等待所有的二级分类请求结果