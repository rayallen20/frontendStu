# 06-案例-轮播图点击切换

## 1. 需求

- 右侧按钮点击,顺序切换图片
- 左侧按钮点击,倒序切换图片
- 自动播放图片
- 鼠标经过/离开可以继续/停止播放图片

## 2. 思路

- 维护2个索引: 当前展示的图片索引和下一张(即将播放的)图片索引
- - 由于结构中已经写了初态的图片,所以初态下:
  - 当前展示的图片索引为0
  - 下一张图片索引为1

### 2.1 轮播

- step1. 应该展示的图片索引 = 下一张图片索引
- step2. 修改各元素的属性,即展示图片
- step3. 计算下一张图片索引
  - 下一张图片索引 = 下一张图片索引 + 1
  - 和图片总数取余,防止索引越界

### 2.2 点击prev按钮

- step1. 计算应该展示的图片索引
  - 应该展示的图片索引 = 应该展示的图片索引 - 1
  - 应该展示的图片索引 < 0 时,应该展示的图片索引 = 图片总数 - 1
- step2. 修改各元素的属性,即展示图片
- step3. 计算下一张图片索引
  - 下一张图片索引 = 当前展示的图片索引 + 1
  - 和图片总数取余,防止索引越界
  - 维护下一张图片的索引是为了鼠标离开后,定时器能正常播放

### 2.3 点击next按钮

- step1. 计算应该展示的图片索引
  - 应该展示的图片索引 = 应该展示的图片索引 + 1
  - 和图片总数取余,防止索引越界
- step2. 修改各元素的属性,即展示图片
- step3. 计算下一张图片索引
  - 下一张图片索引 = 当前展示的图片索引 + 1
  - 和图片总数取余,防止索引越界
  - 维护下一张图片的索引是为了鼠标离开后,定时器能正常播放

## 3. 讲解

- 轮播功能实际上和点击next按钮的功能是一样的,所以可以通过`对象.click()`来触发点击next按钮的事件
- 注: 不是所有的事件都能这么调用.比如`mouseenter`/`mouseleave`事件就不能这么调用
- 常见可以这么用的有:
  - `click`
  - `focus`
  - `blur`